<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Contracts - Hotel Maintenance Pro</title>
    <link rel="stylesheet" href="../CORE/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation injected automatically -->
    
    <div class="main-container">
        <!-- Header -->
        <div class="card-header" style="margin-bottom: 2rem;">
            <h1 class="card-title">
                <i class="fas fa-file-contract"></i>
                Client Contracts
            </h1>
            <button class="btn btn-primary" onclick="openNewContractModal()">
                <i class="fas fa-plus-circle"></i>
                New Contract
            </button>
        </div>
        
        <!-- Quick stats -->
        <div class="stats-grid" id="contractStats">
            <!-- Filled by JavaScript -->
        </div>
        
        <!-- Contracts list -->
        <div class="card">
            <h2 class="card-title">
                <i class="fas fa-list"></i>
                All Contracts
            </h2>
            <div class="contracts-list" id="contractsList">
                <!-- Filled by JavaScript -->
            </div>
        </div>
        
        <!-- Upcoming sessions -->
        <div class="card mt-6">
            <h2 class="card-title">
                <i class="fas fa-calendar-alt"></i>
                Upcoming Sessions
            </h2>
            <div class="sessions-list" id="upcomingSessions">
                <!-- Filled by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- New contract modal -->
    <div class="modal-overlay" id="newContractModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> New Contract</h3>
                <button class="btn-close" onclick="closeNewContractModal()">Ã—</button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label><i class="fas fa-hotel"></i> Hotel name</label>
                    <input type="text" id="contractHotelName" placeholder="Grand Paris Hotel" class="form-input">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-vector-square"></i> Flooring type</label>
                        <select id="contractSurfaceType" class="form-select">
                            <option value="CARPET">Carpet</option>
                            <option value="TILE">Tile</option>
                            <option value="BOTH">Carpet + Tile</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-door-closed"></i> Rooms per session</label>
                        <input type="number" id="contractRoomsPerSession" value="15" min="1" max="50" class="form-input">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-calendar"></i> Frequency</label>
                        <select id="contractFrequency" class="form-select">
                            <option value="MONTHLY">Monthly</option>
                            <option value="BIMONTHLY">Every 2 months</option>
                            <option value="QUARTERLY">Quarterly</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-dollar-sign"></i> Price per session</label>
                        <input type="number" id="contractPrice" placeholder="630" class="form-input">
                        <small class="form-hint" id="priceEstimation"></small>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-play"></i> Start date</label>
                        <input type="date" id="contractStartDate" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-flag-checkered"></i> End date</label>
                        <input type="date" id="contractEndDate" class="form-input">
                    </div>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-sticky-note"></i> Notes (optional)</label>
                    <textarea id="contractNotes" class="form-textarea" placeholder="Loyalty contract, special terms..."></textarea>
                </div>
                
                <div class="preview-card" id="contractPreview">
                    <!-- Contract preview -->
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeNewContractModal()">
                    Cancel
                </button>
                <button class="btn btn-primary" onclick="saveNewContract()">
                    <i class="fas fa-save"></i> Create Contract
                </button>
            </div>
        </div>
    </div>
    
    <!-- Contract details modal -->
    <div class="modal-overlay" id="contractDetailModal" style="display: none;">
        <div class="modal">
            <!-- Filled by JavaScript -->
        </div>
    </div>
    
    <link rel="stylesheet" href="contracts.css">
    <script src="../CORE/database.js"></script>
    <script src="../CORE/navigation.js"></script>
    <script src="contracts.js"></script>
</body>
</html>
